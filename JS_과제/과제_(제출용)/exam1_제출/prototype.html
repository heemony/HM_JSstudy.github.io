<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototype 조사하기</title>
    <script>
        /*
            [객체] - Object객체에서 파생되어 나온 객체들이며 Array객체를 상속한다. 

            1. 
            객체 = 껍데기 {
                프로퍼티 : 접근 가능한 이름과 활용 가능한 값을 가지는 형태,
                메서드 : 일련의 동작을 실행한다. 
                    - 메서드 vs 함수
                        공 : 동작을 실행
                        차 : 함수는 동작 자체를 정의한 것.
                            메서드는 객체를 통해서 해당 메서드를 수행한다. 그 동작을 수행하는 주체가 객체이며, 객체에게 동작을 수행하라고 지시한다.
            }

            2. 객체 생성하는 방법
                - 리터럴 
                    JSON형태를 이용하여 표현
                    특징 : 단일 객체

        */    
                var foo = {
                    name: '리터럴방식'
                }
                console.log(foo.name);
        /*      
                - Constructor (생성자) 
                    동일한 구성을 가진 여러개의 객체를 생성할 수 있음.

        */
                var foo2 = new Object();
                foo2.name = 'Constructor 방식';
                console.log(foo2.name);

        
    </script>
     <script>
        /*
            [프로토타입]
            
            1. 자바스크립트 
                객체지향언어이다.
                클래스 대신 프로토타입이 있다.
                프로토타입으로 상속을 흉내낼 수 있다.

            2. 프토토타입은 언제 쓰는가? 
        */
            function Person() {
                this.eyes = 2;
                this.nose = 1;
            }

            var kim = new Person(); // kim이라는 인스턴스 생성
            var park = new Person(); // park이라는 인스턴스 생성
        /*
            위의 코드의 경우, kim과 park은 eyes와 nose를 공통적으로 가지는데 메모리에는 eyes와 nose 두개씩 총 4개가 할당된다.
            메모리 차지가 많아진다는 말. 
            -> 이러한 문제점을 프로토타입으로 해결할 수 있다. 
        */
            
            function Person1() {}; // 생성된 Person1이라는 함수. 1)constructor와 2)__proto__를 가진다.

            Person1.prototype.eyes = 2; // Person1.prototype라는 Obj가 존재함.
            Person1.prototype.nose = 1;
            // 위 코드 실행 후 결과값
            // > prototype: {eyes: 2, nose: 1, constructor: f}

            var kim1 = new Person1();
            var park1 = new Person1();
        /*
            Person1.protytpe 이라는 빈 Obj에 값을 할당하고,
            Person1 생성자로 만든 인스턴스 kim, park은 
            임의로 값을 할당한 Obj에 들어있는 값을 가져다가 쓸 수 있다. 
        */

        /*
            Prototype 
            뜻 : 객체의 원형
            구성 : Prototype link + prototype object 

            - prototype object 
                객체는 언제나 함수로 생성된다. 
                object, function, array 모두 함수로 정의되어있음.

                함수가 정의될 때 2가지 일이 동시에 일어남
                    1. 해당 함수에 Constructor(생성자) 자격 부여
                        new 키워드 사용

                    2. 해당 함수의 Prototype Obejct 생성 및 연결
                        함수를 정의하면 '함수 생성', 'Prototype Object'도 같이 생성됨.
                        Person1.prototype 을 콘솔창에 찍어보면 아래와 같다.
                            1) constructor: ƒ Person1() (=Prototype Object)
                            2) __proto__: Object (=Prototype Link)
        */
            console.log(kim1);
            // Person1 {}
            // > __proto__ : obj
            console.log(kim1.eyes);
            // 2

        /*
            kim1에 eyes가 없는데 찍어보면 나옴
            이유는 kim1.__proto__ 

            - prototype link = 프로토타입 체인

        */
            // 예제1
            var A = function() {
                this.x = function() {
                    console.log('this.x');
                };
            };
            // this.x는 A의 프로퍼티 x
            A.x = function() {
                console.log('A.x');
            };

            var B = new A();
            var C = new A();

            B.x(); // this.x
            C.x(); // this.x




            // 예제2
            var A = function() {};
            A.x = function() {
                console.log('A.x');
            };
            A.prototype.x = function() {
                console.log('A.prototype.x');
            };
            // A의 prototype object에 연결된 x
            // A의 prototype object를 직접 이용하게 되므로 A의 Prototype Object를 프로토타입으로 이용하여 만들어지는 B,C가 알고 있는 x는
            // 'A.prototype.x'인 거시여따.....

            var B = new A(); 
            var C = new A();

            B.x(); // A.prototype.x
            C.x(); // A.prototype.x

             /*
                내가 이해하기로는..
                new 키워드로 A 생성자 함수를 써서 인스턴스를 생성하면 A에 대한 것을 상속받는다기보다..
                A의 prototype 즉 A가 가지고 있는 prototype을 '공유'한다.
                A.prototype이라고 표현하고, 이 안에는 Constructor와 __proto__가 존재.
                __proto__는 prototype link라 상위 프로토타입 객체를 연결하는 (체이닝) 것이고
                Constructor는 생성할 수 있는 기능을 뜻함. 
                new A()이렇게 하면 A.prototype에 있는 Constructor를 쓸 수 있는거임. (bc 이걸 프로토타입 체이닝..)

            */



    
    </script>
</head>
<body>
    
</body>
</html>