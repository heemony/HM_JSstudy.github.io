<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
    <title>Line Play</title>
    <style>
        *{margin:0;padding:0}
        body{font-family:'나눔고딕';line-height:1.5;color:#555}
        ul,li{list-style:none}
        button{cursor:pointer}
        button::-moz-focus-inner{padding:0;border:0}
        .create_wrap{width:500px;margin:50px auto}
        .swiper-container{overflow:hidden;width:500px;height:380px}
        .swiper-container img{max-width:100%;vertical-align:top}
        .swiper-wrapper{position:relative;height:100%;}
        .swiper-wrapper .swiper-slide{position:absolute;left:0;top:0}
        .btn_random{display:block;margin:20px auto 0;padding:15px 30px;border:2px solid #00ce23;border-radius:10px;background:none;font-family:inherit;font-weight:bold;font-size:20px;color:#00ce23}
        .btn_random:after{display:inline-block;width:17px;height:15px;margin-top:-4px;margin-left:5px;background:url('img/ico.png') no-repeat;background-size:100% auto;vertical-align:middle;content:''}
    </style>
</head>
<body>
<div class="create_wrap js-play-wrap">
    <div class="swiper-container">
        <ul class="swiper-wrapper">
        <li class="swiper-slide">
            <span class="avatar_box">
                <img src="img/avatar_01.jpg" alt="avatar image" class="img_avatar">
            </span>
        </li>
        <li class="swiper-slide">
            <span class="avatar_box">
                <img src="img/avatar_02.jpg" alt="avatar image" class="img_avatar">
            </span>
        </li>
        <li class="swiper-slide">
            <span class="avatar_box">
                <img src="img/avatar_03.jpg" alt="avatar image" class="img_avatar">
            </span>
        </li>
        <li class="swiper-slide">
            <span class="avatar_box">
                <img src="img/avatar_04.jpg" alt="avatar image" class="img_avatar">
            </span>
        </li>
        <li class="swiper-slide">
            <span class="avatar_box">
                <img src="img/avatar_05.jpg" alt="avatar image" class="img_avatar">
            </span>
        </li>
        <li class="swiper-slide">
            <span class="avatar_box">
                <img src="img/avatar_06.jpg" alt="avatar image" class="img_avatar">
            </span>
        </li>
        <li class="swiper-slide">
            <span class="avatar_box">
                <img src="img/avatar_07.jpg" alt="avatar image" class="img_avatar">
            </span>
        </li>
        <li class="swiper-slide">
            <span class="avatar_box">
                <img src="img/avatar_08.jpg" alt="avatar image" class="img_avatar">
            </span>
        </li>
        <li class="swiper-slide">
            <span class="avatar_box">
                <img src="img/avatar_09.jpg" alt="avatar image" class="img_avatar">
            </span>
        </li>
        <li class="swiper-slide">
            <span class="avatar_box">
                <img src="img/avatar_10.jpg" alt="avatar image" class="img_avatar">
            </span>
        </li>
        <li class="swiper-slide">
            <span class="avatar_box">
                <img src="img/avatar_11.jpg" alt="avatar image" class="img_avatar">
            </span>
        </li>
        <li class="swiper-slide">
            <span class="avatar_box">
                <img src="img/avatar_12.jpg" alt="avatar image" class="img_avatar">
            </span>
        </li>
        </ul>
    </div>
    <button type="button" class="btn_random"><span>다른 아바타 보기</span></button>
</div>

<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script>

    // 과제 조건
    // 1. 새로고침 할 때 마다 '랜덤한 캐릭터'가 노출된다. 
    // 2. [다른 아바타 보기 버튼]을 누르면 '이 전에 보여지지 않았던' 랜덤한 캐릭터가 보여진다.  (같은 캐릭터 중복되면 안 됨.)
    // 3. 모든 캐릭터가 다 노출이 됐으면, 다시 시작하는거.. 
    // 3-1. +) 다람쥐가 마지막에 노출이 되었다 다시 시작됐을 때 또 다람쥐가 나오면 안됨. 
    //          마지막과 첫번째가 중복되면 안 됨!
    // 4. li는 무조건 Jquery의 show, hide로 컨트롤한다. li remove 하지마셈 !! 
    // 5. 배열 사용해라 math.random
    
    // -> 어떤 배열의 형태로 만들것인가?
    // --> 배열 형태 2가지
    // -----> 1. [0, 1, 2, 3, 4, 5, 6, ..] 11개를 푸시해서 랜덤으로 뽑을 것인가. <- 이 방법으로 하세요. 여기서 랜덤으로 뽑는 방법을 사용.
    // -----> 2. [5, 7,2, 3, 1, ,2 ,5, 11,] 애초에 랜덤으로 해서 뽑을 것인가. <- 일단 랜덤으로 배열이 만들어지면, 예상이 가능하기 때문에 맞지 않음.

    // 랜덤으로 5가 뽑혔다? 원본 배열에서 지워줘야겟죠? 
    // '뽑힌 값'과 '인덱스'를 헷갈리지 말 것!! 
    // 뽑힌 값 != 인덱스 라는 거 잊지마~~
    

    // 검수할떄 나머지 li 다 주석해놓고 2개로만 검수해 볼 것.

    // 1. 배열 만들기
    // 2. 복제 배열 만들기
    // 3. 복제 배열에서 랜덤으로 뽑기
    // + 랜덤 함수에서-> 중복이 있는가 체크하면서 -> 5.hide 
    // 4. 배열이 다 비었으면, 다시 시작. -> setArrayFunc
    // + 다시 시작될 때 마지막과 첫번째가 중복되면 안됨. -> 이건 어케하지
    // 5. 지워주는 함수 .hide
    // 6. (전체 초기화 시) 보여주는 함수 .show

</script>
<script>
(function () {
    'use strict';
    function exam (container, args) {
        var defParams = {
            obj : container || '.js-play-wrap',
            objCont: '.swiper-container',
            objWrap: '.swiper-wrapper',
            objItem: '.swiper-slide',
            btn: '.btn_random',
            itemArr: [],

        };
        this.opts = $.extend(defParams, args || {});
        if (!(this.obj = $(this.opts.obj)).length) return;
        this.init();
    };
    exam.prototype = {
        init : function () {
            this.setElements();
            this.setArrayFunc();
            this.bindEvent();
            this.setRandnumFunc();
        },
        setElements: function() {
            this.obj = $(this.opts.obj);
            this.objCont = this.obj.find(this.opts.objCont);
            this.objWrap = this.objCont.find(this.opts.objWrap);
            this.objItem = this.objWrap.find(this.opts.objItem);
            this.btn = this.obj.find(this.opts.btn);
            this.itemArr = this.opts.itemArr;
        },
        setArrayFunc: function() {
            for(let i = 0 ; i < this.objItem.length; i++) {
                this.itemArr[i] = this.objItem[i];
            }
        },
        bindEvent: function() {
            this.btn.on('click', this.clickBtnFunc.bind(this));
        },
        clickBtnFunc: function() {
            this.setRandnumFunc();
            // console.log(this.itemArr[this.randomNum]);
        },
        setRandnumFunc: function() { // 중복되지 않는 랜덤수 뽑.
            var randomIndexArr = [];
            var maxIndex = this.objItem.length;
            console.log(maxIndex)
            for(let i = 0; i < maxIndex; i++) {
                var ramdomNum = Math.floor(Math.random() * maxIndex + 1);
                if( !randomIndexArr.includes(ramdomNum) ) {
                    randomIndexArr.push(ramdomNum);
                } else {
                    i--;
                }
            }
            this.randomIndexArr = randomIndexArr;
            this.aaFunc();
        },
        // https://velog.io/@eunjin/Javascript-%ED%8A%B9%EC%A0%95-%EC%88%AB%EC%9E%90-%EB%B2%94%EC%9C%84%EC%97%90%EC%84%9C-%EC%A4%91%EB%B3%B5%EC%9D%84-%EC%A0%9C%EC%99%B8%ED%95%9C-%EB%9E%9C%EB%8D%A4-%EC%88%AB%EC%9E%90-%EB%BD%91%EB%8A%94-%EB%B0%A9%EB%B2%95
        // https://woo-yaa.tistory.com/35

        // 랜덤 숫자 뽑아서
        // 그 수를 가지고 이전에 보여줬던거랑 비교. 비교 대상이 없거나 같지 않다면 보여줌. / 이전것과 동일하면 수를 다시 뽑아야 함.
        // 뽑아가지고 넘어 온 애들을 배열로 만든다. -> 12개에 중복체크까지 해서 다 맞다면 게임 끝 -> 초기화 함수를 돌려준다.
        aaFunc: function() {  
            // let i = 0;
            // while (this.randomIndexArr.length === 12) {
            //     console.log(this.itemArr[this.randomIndexArr[i]]);
            //     this.randomIndexArr.shift(i);
            //     i++;
            // }
            // console.log(this.randomIndexArr.length)

            
            // for(let i = 0; i < this.randomIndexArr.length-1 ; i++) {
            //     this.itemArr[this.randomIndexArr[i]];
            //     this.randomIndexArr.shift(i);
            //     console.log(this.randomIndexArr)

            //     if ( this.randomIndexArr.length === 6 || undefined) {
            //         this.aaFunc();
            //     } 
                // else {
                //     // this.setArrayFunc();
                // }   
            // }
        },
    };

    $(function () {
        var randomPlay = new exam();
    })
})();
</script>
</body>
</html>
